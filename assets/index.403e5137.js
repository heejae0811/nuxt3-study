import{_ as y}from"./nuxt-link.fb8d3605.js";import{q as k,r as p,s as T,g as C,o as c,c as f,a as t,x as $,y as E,v as i,z as N,A as L,B as h,F as V,C as B,D as A,b as F,w as S,t as x,d as j}from"./entry.049cdbdf.js";import{u as q}from"./fetch.6efc2dd8.js";const z=t("h1",{class:"mt-6 mb-12 md:mt-10 text-5xl font-bold text-center"}," To Do List ",-1),M=t("label",{for:"toDo",class:"block mb-3 text-xl font-bold"}," New To Do ",-1),O={class:"flex gap-3 md:gap-5"},P=t("button",{class:"w-1/4 bg-teal-600 hover:bg-teal-500 transition rounded"}," 추가하기 ",-1),Q={key:0},R={class:"flex gap-2 mb-6"},U=t("i",null,"|",-1),W={class:"flex gap-2 text-base md:text-lg"},G=["onClick"],Y=k({__name:"index",async setup(H){let d,v;const s=p(""),l=p(!0),{data:n,refresh:m}=([d,v]=T(()=>q("http://localhost:3001/todo","$pqtWcjQkdb")),d=await d,v(),d),r=p(n.value?[...n.value]:[]);C(()=>n.value,()=>{r.value=l.value?[...n.value]:[...n.value].reverse()});async function _(){s.value===""?alert("할 일을 입력해 주세요."):(await $fetch("http://localhost:3001/todo",{method:"POST",body:{todo:s.value}}),s.value="",await m())}async function w(u){await $fetch(`http://localhost:3001/todo/${u}`,{method:"DELETE"}),await m()}async function g(){window.confirm("리스트를 모두 삭제하시겠습니까?")&&(await $fetch("http://localhost:3001/todo",{method:"DELETE"}),await m())}function b(u){r.value=[...n.value].sort(u)}return(u,o)=>{const D=y;return c(),f("section",null,[z,t("form",{class:"mb-6",onSubmit:o[1]||(o[1]=L(e=>_(),["prevent"]))},[M,t("div",O,[$(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>N(s)?s.value=e:null),type:"text",id:"toDo",class:"w-3/4 px-3 py-4 rounded outline-none text-black",placeholder:"할 일을 입력해 주세요."},null,512),[[E,i(s)]]),P])],32),i(r).length>0?(c(),f("div",Q,[t("div",R,[t("button",{class:h({"underline underline-offset-4":i(l)}),onClick:o[2]||(o[2]=()=>{l.value=!0,b((e,a)=>e.id-a.id)})}," 등록순 ",2),U,t("button",{class:h({"underline underline-offset-4":!i(l)}),onClick:o[3]||(o[3]=()=>{l.value=!1,b((e,a)=>a.id-e.id)})}," 최신순 ",2)]),t("ul",null,[(c(!0),f(V,null,B(i(r),(e,a)=>(c(),f("li",{key:a,class:"flex justify-between items-center gap-3 mb-6 px-4 py-3 md:px-5 border rounded"},[t("p",W,[F(D,{to:`/${e.id}`,class:"hover:underline underline-offset-8"},{default:S(()=>[t("span",null,x(a+1)+".",1),j(" "+x(e.todo),1)]),_:2},1032,["to"])]),t("button",{class:"min-w-fit px-5 py-2 bg-teal-600 hover:bg-teal-500 transition rounded",onClick:I=>w(e.id)}," 삭제 ",8,G)]))),128))]),t("button",{class:"block w-full md:w-1/3 m-auto mt-12 px-3 py-4 bg-teal-950 hover:bg-teal-500 transition rounded",onClick:o[4]||(o[4]=e=>g())}," 전체 삭제하기 ")])):A("",!0)])}}});export{Y as default};
